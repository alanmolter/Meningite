// Sistema de Análise Epidemiológica de Meningite - Atualização Semanal
digraph sistema_epidemiologico {
	bgcolor=white dpi=120 fontname=Arial fontsize=9 label="Sistema Epidemiológico\n(Atualização Semanal)" labelloc=t rankdir=TB size="6,7"
	node [fontname="Arial Bold" fontsize=7 height=0.5 margin="0.1,0.02" shape=box style="filled,rounded" width=0.8]
	edge [color="#333333" fontname=Arial fontsize=5]
	subgraph cluster_sources {
		color=lightblue fontname="Arial Bold" fontsize=8 label="🌐 FONTES DE DADOS OFICIAIS" style=filled
		datasus [label="🏥\nDataSUS" fillcolor="#1565C0" fontcolor=white]
		sipni [label="💉\nSIPNI" fillcolor="#2E7D32" fontcolor=white]
		sih [label="🏨\nSIH" fillcolor="#C62828" fontcolor=white]
		sinan [label="📊\nSINAN" fillcolor="#F57C00" fontcolor=white]
	}
	subgraph cluster_automation {
		color="#F3E5F5" fontname="Arial Bold" fontsize=8 label="🤖 CAMADA DE AUTOMAÇÃO" style=filled
		webscraping [label="🕷️\nWeb Scraping" fillcolor="#4527A0" fontcolor=white]
		apis [label="🔗\nAPI Requests" fillcolor="#6A1B9A" fontcolor=white]
		validation [label="✅\nData Validation" fillcolor="#AD1457" fontcolor=white]
	}
	subgraph cluster_processing {
		color="#E8F5E8" fontname="Arial Bold" fontsize=8 label="🔧 CAMADA DE PROCESSAMENTO" style=filled
		python [label="🐍\nPython Scripts\n(Customizados)" fillcolor="#00695C" fontcolor=white]
		pandas_etl [label="🔄\nPandas ETL\n(Extract, Transform, Load)" fillcolor="#00838F" fontcolor=white]
		cleaning [label="🧹\nData Cleaning\n(Normalização)" fillcolor="#0277BD" fontcolor=white]
		quality [label="🔍\nQuality Check\n(Consistência)" fillcolor="#0288D1" fontcolor=white]
	}
	subgraph cluster_storage {
		color="#E8F5E8" fontname="Arial Bold" fontsize=14 label="💾 CAMADA DE ARMAZENAMENTO" style=filled
		csv [label="📁\nCSV Files\n(Estruturados)" fillcolor="#388E3C" fontcolor=white]
		tabelas [label="🗂️\nTABELAS/\n(Diretório Central)" fillcolor="#43A047" fontcolor=white]
		backup [label="💾\nBackup System\n(Versionamento)" fillcolor="#4CAF50" fontcolor=white]
	}
	subgraph cluster_loading {
		color="#FFF3E0" fontname="Arial Bold" fontsize=14 label="⚡ CAMADA DE CARREGAMENTO" style=filled
		loader [label="⚡\nload_all_data()\n(Função Principal)" fillcolor="#FF6F00" fontcolor=white shape=ellipse style="filled,bold"]
	}
	subgraph cluster_analysis {
		color="#FFEBEE" fontname="Arial Bold" fontsize=14 label="📈 CAMADA DE ANÁLISE ESTATÍSTICA" style=filled
		scipy [label="📈\nSciPy\n(Estatísticas)" fillcolor="#D32F2F" fontcolor=white]
		sklearn [label="🤖\nScikit-learn\n(Machine Learning)" fillcolor="#E64A19" fontcolor=white]
		statsmodels [label="📊\nStatsmodels\n(Modelos Avançados)" fillcolor="#F57C00" fontcolor=white]
		numpy [label="🔢\nNumPy\n(Computação)" fillcolor="#FFA000" fontcolor=white]
		pandas_analysis [label="🐼\nPandas\n(Análise)" fillcolor="#FFB300" fontcolor=white]
	}
	subgraph cluster_visualization {
		color="#F3E5F5" fontname="Arial Bold" fontsize=14 label="🎨 CAMADA DE VISUALIZAÇÃO" style=filled
		plotly [label="📊\nPlotly\n(Gráficos Interativos)" fillcolor="#7B1FA2" fontcolor=white]
		streamlit [label="🎨\nStreamlit\n(Interface Web)" fillcolor="#8E24AA" fontcolor=white]
		charts [label="📈\nInteractive Charts\n(Dashboards)" fillcolor="#9C27B0" fontcolor=white]
	}
	subgraph cluster_output {
		color="#E3F2FD" fontname="Arial Bold" fontsize=14 label="🚀 DASHBOARD FINAL" style=filled
		dashboard [label="🚀\nDashboard\nEpidemiológico\n(Completo)" fillcolor="#1976D2" fontcolor=white fontsize=12 shape=doubleoctagon style="filled,bold"]
	}
	datasus -> webscraping [label=scraping]
	datasus -> apis [label=APIs]
	sipni -> apis [label="REST API"]
	sipni -> validation [label=validar]
	sih -> webscraping [label="extração"]
	sih -> apis [label=consultas]
	sinan -> apis [label=dados]
	sinan -> validation [label=verificar]
	webscraping -> python [label=scripts]
	webscraping -> pandas_etl [label=ETL]
	apis -> python [label=processar]
	apis -> cleaning [label=limpar]
	validation -> cleaning [label=normalizar]
	validation -> quality [label=verificar]
	python -> csv [label=salvar]
	pandas_etl -> tabelas [label=armazenar]
	cleaning -> tabelas [label=persistir]
	quality -> backup [label=backup]
	csv -> loader [label=carregar]
	tabelas -> loader [label=importar]
	backup -> loader [label=recuperar]
	loader -> scipy [label="estatísticas"]
	loader -> sklearn [label=ML]
	loader -> statsmodels [label=modelos]
	loader -> numpy [label="cálculos"]
	loader -> pandas_analysis [label="análise"]
	scipy -> plotly [label="gráficos"]
	sklearn -> charts [label="viz ML"]
	statsmodels -> plotly [label=plots]
	numpy -> streamlit [label=interface]
	pandas_analysis -> streamlit [label=dados]
	plotly -> dashboard [label=integrar]
	streamlit -> dashboard [label=renderizar]
	charts -> dashboard [label=exibir]
}
